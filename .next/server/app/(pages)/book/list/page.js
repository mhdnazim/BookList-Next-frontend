(()=>{var e={};e.id=67,e.ids=[67],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},26282:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(92139),r(28353),r(35866),r(32029);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(pages)",{children:["book",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92139)),"C:\\Users\\Limenzy\\Desktop\\New folder\\BookList-Next-frontend\\src\\app\\(pages)\\book\\list\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,28353)),"C:\\Users\\Limenzy\\Desktop\\New folder\\BookList-Next-frontend\\src\\app\\(pages)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\Limenzy\\Desktop\\New folder\\BookList-Next-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Limenzy\\Desktop\\New folder\\BookList-Next-frontend\\src\\app\\(pages)\\book\\list\\page.tsx"],u="/(pages)/book/list/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(pages)/book/list/page",pathname:"/book/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},76433:(e,t,r)=>{Promise.resolve().then(r.bind(r,69594))},69594:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(10326),a=r(6420),n=r(32634),i=r(25609),l=r(69883),o=r(76554),d=r(7627),c=r(38725),u=r(30725),p=r(78077),x=r(19518),h=r(69568),g=r(75565),m=r(84187),j=r(9858),Z=r(47520),b=r(24490),f=r(17577),v=r(35047),y=r(43659),k=r(28501),P=r(67710),q=r(98117),_=r(10123),w=r(74723),S=r(4418);let C=_.Ry().shape({name:_.Z_().required("Name is required"),author:_.Z_().required(),genre:_.Z_().required(),star_rating:_.Rx().required(),published:_.Z_().required(),price:_.Rx().required(),language:_.Z_().required()}),B=({open:e,handleClickClose:t})=>{let[r,a]=(0,f.useState)(!1),[i,o]=(0,f.useState)([]),[d,c]=(0,f.useState)(""),[u,x]=(0,f.useState)("");(0,f.useEffect)(()=>{console.log(d,"useEffect"),d&&(URL.createObjectURL(d),x(URL.createObjectURL(d)))},[d]);let{register:h,handleSubmit:g,reset:m}=(0,w.cI)({}),j=e=>{console.log("hi"),c(e.target.files[0])},Z=async(e,t)=>{await b.Z.post("https://booklist-node-backend.onrender.com/book/add",e,t).then(e=>{console.log(e.data,"addBook"),a(!0),x("")}).catch(e=>{console.log(e,"error"),500===e.response.status&&alert("Something went wrong...!")}),v()},v=()=>{t(),x(""),m({name:"",author:"",genre:"",star_rating:null,published:"",price:null,language:"",image:""})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y.Z,{open:e,onClose:v,children:[s.jsx(n.ZP,{item:!0,sx:{display:"flex",justifyContent:"space-between"},children:s.jsx(q.Z,{children:"Add new Book"})}),s.jsx(n.ZP,{sx:{textAlign:"center"},children:s.jsx("img",{src:u,alt:"You cover image will appear Here...",loading:"lazy",height:150})}),(0,s.jsxs)("form",{onSubmit:g(function(e){C.validate(e).then(e=>console.log(e)).catch(e=>console.log(e)),console.log(e,"hi");let{name:t,author:r,genre:s,star_rating:a,published:n,price:i,language:l,image:o}=e;console.log(o,"image");let d=new FormData;d.append("name",t),d.append("author",r),d.append("genre",s),d.append("star_rating",a),d.append("published",n),d.append("price",i),d.append("language",l),d.append("image",o[0]);let c=localStorage.getItem("access_token");Z(d,{headers:{Authorization:`Bearer ${c}`,"content-type":"multipart/form-data"}})}),children:[s.jsx(P.Z,{children:(0,s.jsxs)(n.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"Book Title",type:"text",fullWidth:!0,variant:"standard",...h("name")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"author",label:"Author",type:"text",fullWidth:!0,variant:"standard",...h("author")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"genre",label:"Genre",type:"text",fullWidth:!0,variant:"standard",...h("genre")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"language",label:"Language",type:"text",fullWidth:!0,variant:"standard",...h("language")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"price",label:"Price",type:"number",fullWidth:!0,variant:"standard",...h("price")})}),(0,s.jsxs)(n.ZP,{item:!0,xs:6,children:[s.jsx("label",{htmlFor:"published",style:{fontSize:"12px",color:"#808080"},children:"Published Date *"}),s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"published",type:"date",InputProps:{inputProps:{max:new Date().toJSON().slice(0,10),min:null}},fullWidth:!0,variant:"standard",...h("published")})]}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"image",label:"Image",type:"file",fullWidth:!0,variant:"standard",...h("image"),onChange:e=>j(e)})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"star_rating",label:"Star Rating",type:"number",InputProps:{inputProps:{max:5,min:1}},fullWidth:!0,variant:"standard",...h("star_rating")})})]})}),(0,s.jsxs)(k.Z,{children:[s.jsx(l.Z,{color:"error",onClick:v,children:"Cancel"}),s.jsx(l.Z,{color:"success",type:"submit",children:"Add"})]})]})]}),s.jsx(S.Z,{value:r,setValue:a})]})},N=({edit:e,handleEditClose:t,book:r})=>{let[a,i]=(0,f.useState)(!1),[o,d]=(0,f.useState)(""),[c,u]=(0,f.useState)(""),{register:x,handleSubmit:h,reset:g}=(0,w.cI)({}),m=e=>{g({name:e.name,author:e.author,genre:e.genre,star_rating:e.star_rating,published:j,price:e.price,language:e.language,image:e.image})},j=new Date(r.published).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).toString().split("/").reverse().join("-");(0,f.useEffect)(()=>{console.log(r,"from useEffect"),m(r),u(r.image)},[r]),(0,f.useEffect)(()=>{console.log(o,"useEffect"),o&&(URL.createObjectURL(o),u(URL.createObjectURL(o)))},[o]);let Z=e=>{console.log("hi"),d(e.target.files[0])},v=_.Ry().shape({name:_.Z_().required(),author:_.Z_().required(),genre:_.Z_().required(),star_rating:_.Rx().required(),published:_.Z_().required(),price:_.Rx().required(),language:_.Z_().required()}),C=async(e,t)=>{await b.Z.patch("https://booklist-node-backend.onrender.com/book/edit",e,t).then(e=>{console.log(e.data,"editBook"),i(!0)}).catch(e=>{console.log(e,"error"),500===e.response.status&&alert("Something went wrong...!")}),B()},B=()=>{t()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y.Z,{open:e,onClose:B,children:[s.jsx(q.Z,{children:"Edit Book"}),s.jsx(n.ZP,{sx:{textAlign:"center"},children:s.jsx("img",{src:c,alt:"You cover image will appear Here...",loading:"lazy",height:150})}),(0,s.jsxs)("form",{onSubmit:h(function(e){v.validate(e).then(e=>console.log(e)).catch(e=>console.log(e));let{name:t,author:s,genre:a,star_rating:n,published:i,price:l,language:o,image:d}=e,c=new FormData;c.append("_id",r._id),c.append("name",t),c.append("author",s),c.append("genre",a),c.append("star_rating",n),c.append("published",i),c.append("price",l),c.append("language",o),c.append("image",d[0]);let u=localStorage.getItem("access_token");C(c,{headers:{Authorization:`Bearer ${u}`,"content-type":"multipart/form-data"}})}),children:[s.jsx(P.Z,{children:(0,s.jsxs)(n.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"Book Title",type:"text",fullWidth:!0,variant:"standard",...x("name")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"author",label:"Author",type:"text",fullWidth:!0,variant:"standard",...x("author")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"genre",label:"Genre",type:"text",fullWidth:!0,variant:"standard",...x("genre")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"language",label:"Language",type:"text",fullWidth:!0,variant:"standard",...x("language")})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"price",label:"Price",type:"number",fullWidth:!0,variant:"standard",...x("price")})}),(0,s.jsxs)(n.ZP,{item:!0,xs:6,children:[s.jsx("label",{htmlFor:"published",style:{fontSize:"12px",color:"#808080"},children:"Published Date *"}),s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"published",type:"date",InputProps:{inputProps:{max:new Date().toJSON().slice(0,10),min:null}},fullWidth:!0,variant:"standard",...x("published")})]}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,margin:"dense",id:"image",label:"Image",type:"file",fullWidth:!0,variant:"standard",...x("image"),onChange:e=>Z(e)})}),s.jsx(n.ZP,{item:!0,xs:6,children:s.jsx(p.Z,{autoFocus:!0,required:!0,margin:"dense",id:"star_rating",label:"Star Rating",type:"number",InputProps:{inputProps:{max:5,min:1}},fullWidth:!0,variant:"standard",...x("star_rating")})})]})}),(0,s.jsxs)(k.Z,{children:[s.jsx(l.Z,{color:"error",onClick:B,children:"Cancel"}),s.jsx(l.Z,{type:"submit",children:"Update"})]})]})]}),s.jsx(S.Z,{value:a,setValue:i})]})};var F=r(27522);let L=(0,F.Z)((0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),R=(0,F.Z)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),z=(0,F.Z)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),I={_id:"",name:"",author:"",genre:"",star_rating:0,published:"",price:0,language:"",image:"",isDeleted:!1,createdAt:"",updatedAt:""},A=()=>{let e=(0,v.useRouter)(),[t,r]=(0,f.useState)(""),[y,k]=(0,f.useState)(!1),[P,q]=(0,f.useState)(!1),[_,w]=(0,f.useState)(!1),[C,F]=(0,f.useState)(I),[A,D]=(0,f.useState)([I]),[W,E]=(0,f.useState)(!1),[U,O]=(0,f.useState)(""),[M,G]=(0,f.useState)(0),[H,$]=(0,f.useState)(0),V=e=>{w(!0),F(e)},T=e=>{let t=localStorage.getItem("access_token"),r={headers:{Authorization:`Bearer ${t}`}};(async()=>{await b.Z.patch("https://booklist-node-backend.onrender.com/book/delete",{_id:e},r).then(e=>{console.log(e.data,"DeleteBook"),q(!0)}).catch(e=>{console.log(e,"error"),500===e.response.status&&alert("Something went wrong...!")})})(),E(!0)},J=t=>{let r=t._id;e.push(`/book/view/${r}/details`)};return(0,f.useEffect)(()=>{let e={q:U,star_rating:H,price:M},t=localStorage.getItem("access_token");(async()=>{await b.Z.post("https://booklist-node-backend.onrender.com/book/list/",e,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{D(e.data.data)}).catch(e=>{console.log(e.message)})})(),E(!1)},[y,_,W,U,H,M]),(0,f.useEffect)(()=>{r(localStorage.getItem("role")),console.log(A,"books"),console.log(M,"price")},[A,M,t]),(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{id:"banner",sx:{marginBottom:"40px"},children:s.jsx(n.ZP,{container:!0,className:"container",children:s.jsx(n.ZP,{className:"banner",children:s.jsx(i.Z,{className:"title",variant:"h1",children:"Our Top selling Books Are Listed Here..."})})})}),s.jsx(a.Z,{className:"filters container",children:(0,s.jsxs)(n.ZP,{sx:{display:{md:"flex"},justifyContent:"space-between",alignItems:"center"},children:[s.jsx(i.Z,{variant:"h2",children:"Top  Books"}),"admin"===t?s.jsx(l.Z,{variant:"contained",color:"success",onClick:()=>{k(!0)},className:"add",startIcon:s.jsx(L,{}),children:"Add"}):s.jsx(l.Z,{className:"add",children:"hi"}),s.jsx(B,{open:y,handleClickClose:()=>{k(!1)}}),s.jsx(N,{edit:_,handleEditClose:()=>{w(!1)},book:C}),s.jsx(S.Z,{value:P,setValue:q})]})}),(0,s.jsxs)(n.ZP,{className:"filters container",sx:{display:"flex",alignItems:"center"},children:[(0,s.jsxs)(o.Z,{variant:"filled",sx:{m:1,width:"100%"},children:[s.jsx(d.Z,{id:"demo-simple-select-filled-label",children:"Sort Book By Price"}),(0,s.jsxs)(c.Z,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",onChange:e=>G(e.target.value),children:[s.jsx(u.Z,{value:"",children:s.jsx("em",{children:"None"})}),s.jsx(u.Z,{value:1e3,children:"Below ₹1000"}),s.jsx(u.Z,{value:500,children:"Below ₹500"}),s.jsx(u.Z,{value:200,children:"Below ₹200"}),s.jsx(u.Z,{value:100,children:"Below ₹100"})]})]}),(0,s.jsxs)(o.Z,{variant:"filled",sx:{m:1,width:"100%"},children:[s.jsx(d.Z,{id:"demo-simple-select-filled-label",children:"Sort Book By Rating"}),(0,s.jsxs)(c.Z,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",onChange:e=>$(e.target.value),children:[s.jsx(u.Z,{value:"",children:s.jsx("em",{children:"None"})}),s.jsx(u.Z,{value:5,children:"5.0★ Rating"}),s.jsx(u.Z,{value:4,children:"4.0★ Rating"}),s.jsx(u.Z,{value:3,children:"3.0★ Rating"}),s.jsx(u.Z,{value:2,children:"2.0★ Rating"}),s.jsx(u.Z,{value:1,children:"1.0★ Rating"})]})]}),s.jsx(p.Z,{required:!0,id:"outlined-required",name:"search",label:"Search",sx:{width:"100%"},onChange:e=>O(e.target.value)})]}),s.jsx(n.ZP,{className:"cards container",container:!0,sx:{display:{md:"flex"},justifyContent:"center"},children:0===A.length?s.jsx(n.ZP,{children:s.jsx(i.Z,{variant:"h5",sx:{color:"red"},children:"No Book Found"})}):A.map(e=>s.jsx(n.ZP,{item:!0,sm:4,md:4,lg:4,xs:12,className:"cards-item",sx:{width:"auto",height:"auto",marginBottom:"10px"},children:(0,s.jsxs)(x.Z,{sx:{maxWidth:"auto"},children:[(0,s.jsxs)(h.Z,{onClick:()=>{J(e)},children:[s.jsx(g.Z,{component:"img",image:e.image,height:"400px",width:"350px",alt:"Book Name"}),(0,s.jsxs)(m.Z,{children:[e.name.length>24?(0,s.jsxs)(i.Z,{gutterBottom:!0,variant:"h5",component:"div",title:e.name,children:[e.name.substring(0,24),"..."]}):s.jsx(i.Z,{gutterBottom:!0,variant:"h5",component:"div",title:e.name,children:e.name.substring(0,24)}),s.jsx(i.Z,{variant:"body2",color:"text.secondary",children:e.genre}),s.jsx(i.Z,{component:"legend",children:"Rating"}),s.jsx(j.Z,{value:e.star_rating,name:"read-only",readOnly:!0}),(0,s.jsxs)(i.Z,{variant:"body2",color:"text.secondary",children:["₹ ",e.price]})]}),s.jsx(Z.Z,{sx:{display:"flex",justifyContent:"space-between"}})]}),"admin"===t?(0,s.jsxs)(n.ZP,{sx:{display:"flex",justifyContent:"space-between",padding:"0px 10px"},children:[s.jsx(l.Z,{onClick:()=>{V(e)},startIcon:s.jsx(R,{}),children:"Edit"}),s.jsx(l.Z,{color:"error",onClick:()=>{T(e._id)},startIcon:s.jsx(z,{}),children:"Delete"})]}):s.jsx(l.Z,{onClick:()=>{J(e)},color:"warning",children:"View"})]})},e._id))})]})}},4418:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(10326);r(17577);var a=r(16885),n=r(10042);function i({setValue:e,value:t}){let r=(t,r)=>{"clickaway"!==r&&e(!1)};return s.jsx(s.Fragment,{children:s.jsx(a.Z,{open:t,autoHideDuration:6e3,onClose:r,children:s.jsx(n.Z,{onClose:r,severity:"success",variant:"filled",sx:{width:"100%"},children:"Success...!"})})})}},92139:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\Users\Limenzy\Desktop\New folder\BookList-Next-frontend\src\app\(pages)\book\list\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\Limenzy\Desktop\New folder\BookList-Next-frontend\src\app\(pages)\book\list\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[935,54,560,634,140,123,289,723,534,714],()=>r(26282));module.exports=s})();